<!doctype html>
<html lang="en" data-theme="synthwave">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Movie Night Picker</title>
    <link rel="stylesheet" href="styles.css">
    <!-- daisyUI + Tailwind (CDN) -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body class="min-h-screen bg-base-200">
    <!-- Top bar -->
    <div class="navbar bg-base-100/80 backdrop-blur sticky top-0 z-50 border-b border-base-300">
        <div class="flex-1">
            <a class="btn btn-ghost text-xl">Movie Night Picker</a>
            <span class="badge badge-primary badge-outline ml-2">Peppy edition</span>
        </div>

        <div class="flex-none gap-2">
            <button id="btnPick" class="btn btn-primary">Pick for me</button>

            <!-- simple theme toggle (optional) -->
            <label class="swap swap-rotate btn btn-ghost">
                <input id="themeToggle" type="checkbox" />
                <svg class="swap-on h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-width="2"
                        d="M12 3a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V4a1 1 0 0 0-1-1Zm0 16a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0v-1a1 1 0 0 0-1-1ZM4 11a1 1 0 0 0-1 1 1 1 0 0 0 1 1h1a1 1 0 1 0 0-2H4Zm14 0a1 1 0 0 0-1 1 1 1 0 0 0 1 1h1a1 1 0 1 0 0-2h-1ZM6.22 6.22a1 1 0 0 0 0 1.41l.7.7a1 1 0 0 0 1.42-1.4l-.71-.71a1 1 0 0 0-1.41 0Zm10.95 10.95a1 1 0 0 0 0 1.41l.7.7a1 1 0 0 0 1.42-1.4l-.71-.71a1 1 0 0 0-1.41 0ZM18 12a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z" />
                </svg>
                <svg class="swap-off h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <path stroke="currentColor" stroke-width="2"
                        d="M21 12.79A9 9 0 1 1 11.21 3c.06.33.09.67.09 1a7 7 0 0 0 7 7c.34 0 .67-.03 1-.09.2.64.31 1.32.31 2.03Z" />
                </svg>
            </label>
        </div>
    </div>

    <!-- Main layout -->
    <main class="max-w-6xl mx-auto p-4 grid grid-cols-1 lg:grid-cols-3 gap-4">
        <!-- Left: search + results -->
        <section class="lg:col-span-2 space-y-4">
            <div class="card bg-base-100 shadow-xl">
                <div class="card-body">
                    <div class="flex flex-col md:flex-row gap-3 md:items-end">
                        <div class="flex-1">
                            <label class="label"><span class="label-text">Search movie</span></label>
                            <input id="q" class="input input-bordered w-full"
                                placeholder="e.g., Dune, Interstellar, Parasite..." />
                        </div>
                        <button id="btnSearch" class="btn btn-secondary">Search</button>
                        <button id="btnTrending" class="btn btn-ghost">Trending</button>
                    </div>

                    <div class="divider my-2">Results</div>
                    <div id="results" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3"></div>
                    <div id="resultsEmpty" class="text-base-content/60 hidden">No results yet. Try Trending.</div>
                </div>
            </div>
        </section>

        <!-- Right: tonight pool -->
        <aside class="space-y-4">
            <div class="card bg-base-100 shadow-xl">
                <div class="card-body">
                    <div class="flex items-center justify-between">
                        <h2 class="card-title">Tonightâ€™s Pool</h2>
                        <button id="btnClearPool" class="btn btn-xs btn-ghost">Clear</button>
                    </div>

                    <div class="flex gap-2 flex-wrap">
                        <label class="label cursor-pointer gap-2 p-0">
                            <span class="label-text">Exclude watched</span>
                            <input id="excludeWatched" type="checkbox" class="toggle toggle-primary" checked />
                        </label>

                        <label class="label cursor-pointer gap-2 p-0">
                            <span class="label-text">Min rating</span>
                            <input id="minRating" type="number" min="0" max="10" step="0.5" value="6"
                                class="input input-bordered input-sm w-20" />
                        </label>
                    </div>

                    <div id="pool" class="mt-2 space-y-2"></div>
                    <div id="poolEmpty" class="text-base-content/60">Add movies from results to build your pool.</div>
                </div>
            </div>

            <footer class="text-xs text-base-content/60 leading-relaxed">
                This product uses the TMDB API but is not endorsed or certified by TMDB.
            </footer>
        </aside>
    </main>

    <!-- Details modal -->
    <dialog id="dlg" class="modal">
        <div class="modal-box">
            <h3 id="dlgTitle" class="font-bold text-lg">Title</h3>
            <p id="dlgMeta" class="text-sm text-base-content/70 mt-1"></p>
            <p id="dlgOverview" class="mt-3 text-base-content/90"></p>

            <div class="modal-action">
                <button id="btnWatched" class="btn btn-primary">Mark watched</button>
                <form method="dialog">
                    <button class="btn">Close</button>
                </form>
            </div>
        </div>
    </dialog>

    <script src="config.js"></script>
    <script src="app.js"></script>
</body>

</html>